(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{1146:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var i=t(2432),n=t(364),a=t(9262),r=t(654);function o(e){let{params:s}=e,[t,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),l=(0,a.useRouter)();(0,n.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("/api/admin/posts");if(401===e.status){l.push("/admin/login");return}let t=(await e.json()).find(e=>e.id===Number.parseInt(s.id));t?o(t):l.push("/admin")}catch(e){console.error("Failed to fetch post:",e),l.push("/admin")}finally{d(!1)}},u=async e=>{try{let t=await fetch("/api/admin/posts/".concat(s.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)l.push("/admin");else{let e=await t.json();throw Error(e.error||"Failed to update post")}}catch(e){throw e}};return c?(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,i.jsx)("div",{children:"Loading..."})}):t?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Post"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Edit your blog post"})]}),(0,i.jsx)(r.g,{post:t,onSave:u})]})}):(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,i.jsx)("div",{children:"Post not found"})})}},8070:(e,s,t)=>{Promise.resolve().then(t.bind(t,1146))}},e=>{var s=s=>e(e.s=s);e.O(0,[302,70,654,22,575,358],()=>s(8070)),_N_E=e.O()}]);